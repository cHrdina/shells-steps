(this["webpackJsonpwheres-shell"]=this["webpackJsonpwheres-shell"]||[]).push([[0],{106:function(e,t,a){e.exports=a(288)},111:function(e,t,a){},112:function(e,t,a){},288:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(98),i=a.n(c),r=(a(111),a(10)),s=a(11),o=a(19),m=a(12),u=a(13),d=(a(112),a(5)),v=a(20),f=a(289).createClient({space:"r1wogzr4p3xm",accessToken:"503f757960e1eb1b131f90222821301097a03523d3bcbc470b4ff842fb9cf17d"}),p=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={data:""},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.getAsset("5cSBFkBEFUWmwsUsEWqg4K").then((function(t){return e.setState({data:"".concat(t.fields.file.url,"?fm=jpg&fl=progressive&q=50")})}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"hero-image-main",style:{backgroundImage:"url(".concat(this.state.data,")")}},l.a.createElement("div",{className:"title-area"},l.a.createElement("h1",null,"Where's Shell?"),l.a.createElement("p",null,"My travel tales from around the world."),l.a.createElement(d.Link,{to:"/trips/"},l.a.createElement("button",{className:"title-cta"},"View my trips")))))}}]),a}(l.a.Component);var h=function(e){var t={pathname:e.to,data:e.data};return l.a.createElement("div",null,l.a.createElement(d.Link,{className:"below-fixed-header",id:e.id,to:t},l.a.createElement("div",{className:"tile ".concat(e.filteredOut&&"filtered"),style:{backgroundImage:"url(".concat(e.imgSrc,"?fm=jpg&w=600&fl=progressive)")}},l.a.createElement("div",{className:"tile-text"},l.a.createElement("h2",null,e.text)))))},E=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={data:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.getEntries({content_type:"country",order:"fields.countryName"}).then((function(t){return e.setState({data:t.items})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"content-container"},l.a.createElement("div",{className:"page-header"},l.a.createElement("h1",null,"Countries")),l.a.createElement("div",{className:"tiles"},this.state.data&&this.state.data.map((function(e){return console.info("country",e)||l.a.createElement(h,{key:e.sys.id,id:e.sys.id,to:"/countries/".concat(e.sys.id),text:e.fields.countryName,imgSrc:e.fields.tilePicCountry&&null!=e.fields.tilePicCountry.fields?e.fields.tilePicCountry.fields.file.url:void 0,data:e})}))))}}]),a}(l.a.Component),g=a(40),b=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(o.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(e){this.props.onDateSelect(e.target.text)}},{key:"getAnchorData",value:function(){return this.props.data.map((function(e){return{id:e.sys.id,date:e.fields.tripDate.split("-")[0]}}))}},{key:"removeDuplicates",value:function(e,t){for(var a=[],n=0;n<e.length-1;){if(a.push(e[n]),n+1<e.length-1)for(;e[n][t]===e[n+1][t];)n++;n++}return a}},{key:"render",value:function(){var e=this,t=this.getAnchorData(),a=this.props.selectedYear;return l.a.createElement("div",{id:"side-nav-left"},l.a.createElement("ul",{className:"no-style"},this.props.data&&this.removeDuplicates(t,"date").map((function(t){return l.a.createElement("li",{key:t.id},l.a.createElement(g.HashLink,{key:t.id,to:"#".concat(t.id),onClick:e.handleClick,className:a===t.date?"active":"inactive",smooth:!0},t.date))}))))}}]),a}(l.a.Component),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleDateSelect=n.handleDateSelect.bind(Object(o.a)(n)),n.state={data:[],selectedYear:"",filterActive:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.getEntries({content_type:"Trip",order:"-fields.tripDate"}).then((function(t){return e.setState({data:t.items})}))}},{key:"handleDateSelect",value:function(e){e===this.state.selectedYear?(this.setState({selectedYear:""}),this.setState({filterActive:!1})):(this.setState({selectedYear:e}),this.setState({filterActive:!0}))}},{key:"render",value:function(){var e=this.state.selectedYear,t=this.state.filterActive;return l.a.createElement(l.a.Fragment,null,this.state.data&&l.a.createElement(b,{data:this.state.data,selectedYear:e,onDateSelect:this.handleDateSelect}),l.a.createElement("div",{className:"content-container"},l.a.createElement("div",{className:"page-header"},l.a.createElement("h1",null,"Trips")),l.a.createElement("div",{className:"tiles"},this.state.data&&this.state.data.map((function(a){return l.a.createElement(h,{key:a.sys.id,id:a.sys.id,to:"/trips/".concat(a.sys.id),text:a.fields.tripName,imgSrc:a.fields.tilePicTrip&&null!==a.fields.tilePicTrip.fields?a.fields.tilePicTrip.fields.file.url:void 0,filteredOut:t&&e!==a.fields.tripDate.split("-")[0]})})))),l.a.createElement("div",{id:"footer"},l.a.createElement(g.HashLink,{smooth:!0,to:"#top"},"Back to top")))}}]),a}(l.a.Component),N=a(27),k=a.n(N),j=a(41),C=a(28),O=a(21),w=a.n(O),S=a(105),x=a.n(S),D=(a(285),a(18)),T=a(23),L=a(8);T.b.add(L.d,L.b,L.c);var P=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChange=function(e){return n.setState({value:e})},n.state={value:0},n}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{class:"carousel"},l.a.createElement(x.a,{value:this.state.value,onChange:this.onChange,centered:!0,arrowLeft:l.a.createElement(D.a,{className:"carousel-arrow",icon:"chevron-left"}),arrowRight:l.a.createElement(D.a,{className:"carousel-arrow",icon:"chevron-right"}),addArrowClickHandler:!0},this.props.items&&this.props.items.map((function(e,t){return l.a.createElement("img",{src:"".concat(e.fields.file.url,"?fm=jpg&fl=progressive&q=30"),key:t,alt:e.fields.title})}))))}}]),a}(l.a.Component);var A=function(e,t){var a=e.split("-"),n=new Date(a[0],a[1],a[2]);return n.getDate().toString()+" "+n.toLocaleString("default",{month:t})+" "+n.getFullYear().toString()};var M=function(e){var t=Object(n.useState)(!0),a=Object(C.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)({}),s=Object(C.a)(r,2),o=s[0],m=s[1];return console.log("Trip Props: "),console.log(e.location),Object(n.useEffect)((function(){var t=function(){var t=Object(j.a)(k.a.mark((function t(){var a,n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.location.pathname.split("/")[2],t.next=3,f.getEntry(a);case 3:n=t.sent,m(n),i(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.location.data?(m(e.location.data),i(!1)):t()}),[e.location]),c?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"trip-hero"},l.a.createElement("div",{className:"trip-hero-text"},l.a.createElement("div",{className:"trip-hero-text__title"},l.a.createElement("h1",{className:"trip-title"},o.fields.tripName)),l.a.createElement("p",{className:"hero-text"},l.a.createElement(D.a,{icon:L.a,className:"icon"}),A(o.fields.tripDate,"long")),l.a.createElement("hr",{className:"style-1"}),l.a.createElement("p",{className:"hero-text"},l.a.createElement(D.a,{icon:L.f,className:"icon"}),o.fields.tripLocations),l.a.createElement("ul",{className:"no-style-light-blue"},o.fields.countriesVisitedInTrip.map((function(e,t){return l.a.createElement("li",{className:"hero-inline-list_item",key:t},l.a.createElement(d.Link,{to:"/countries/".concat(e.sys.id),className:"country-link"},e.fields.countryName))}))),l.a.createElement("p",{className:"hero-text video-button"},"Watch video ",l.a.createElement(D.a,{icon:L.g,className:"icon-after"}))),o.fields.tilePicTrip&&l.a.createElement("div",{className:"hero-image",style:{backgroundImage:"url(".concat(o.fields.tilePicTrip.fields.file.url,"?fm=jpg&fl=progressive)")}})),l.a.createElement("div",{className:"content-container"},l.a.createElement(P,{items:o.fields.tripPhotos}),l.a.createElement("div",{className:"content-section"},l.a.createElement(w.a,null,o.fields.highlights),l.a.createElement(w.a,null,o.fields.tripItinirary)),l.a.createElement("div",{className:"content-section"},l.a.createElement("div",{className:"blog"},l.a.createElement(w.a,null,o.fields.tripDetails.replace(/.JPG/gi,".JPG?fl=progressive"))))),l.a.createElement("div",{id:"footer"},l.a.createElement("a",{href:"/trips"},"Back to Trips")))};var F=function(e){var t=Object(n.useState)(!0),a=Object(C.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)({}),s=Object(C.a)(r,2),o=s[0],m=s[1];if(console.log("Country Props: "),console.log(e.location),Object(n.useEffect)((function(){var t=function(){var t=Object(j.a)(k.a.mark((function t(){var a,n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.location.pathname.split("/")[2],t.next=3,f.getEntry(a);case 3:n=t.sent,m(n),i(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.location.data?(m(e.location.data),i(!1)):t()}),[e.location]),c)return l.a.createElement(l.a.Fragment,null);var u=o.fields.tripsInThisCountry,d=u.length?u.map((function(e){return console.info("trip",e)||l.a.createElement(h,{key:e.sys.id,to:"/trips/".concat(e.sys.id),text:e.fields.tripName,imgSrc:e.fields.tilePicTrip&&null!=e.fields.tilePicTrip.fields?e.fields.tilePicTrip.fields.file.url:void 0,data:e})})):l.a.createElement(l.a.Fragment,null);return l.a.createElement(l.a.Fragment,null,o.fields.tilePicCountry&&l.a.createElement("div",{className:"country-hero",style:{backgroundImage:"url(".concat(o.fields.tilePicCountry.fields.file.url,"?fm=jpg&fl=progressive)")}},l.a.createElement("div",{className:"country-hero-text"},o.fields.countryName)),l.a.createElement("div",{className:"content-container"},l.a.createElement("div",{className:"content-section"},l.a.createElement(w.a,null,o.fields.countryHighlights),l.a.createElement(w.a,null,o.fields.countryTips)),l.a.createElement("div",{className:"content-section"},l.a.createElement(w.a,null,o.fields.countryLocations)),l.a.createElement("div",{className:"content-section"},l.a.createElement("h2",null," Trips in ",o.fields.countryName," "),l.a.createElement("div",{className:"tiles"},d))),l.a.createElement("div",{id:"footer"},l.a.createElement("a",{href:"/countries"},"Back to Countries")))};var I=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"map"},l.a.createElement("iframe",{src:"https://www.google.com.au/maps/d/embed?mid=14Xxl8D0RNCmZcCREEImvSxx7QpE"})))};T.b.add(L.e,L.d,L.b,L.c);var Y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).toggleMenu=n.toggleMenu.bind(Object(o.a)(n)),n.state={menuActive:!1},n}return Object(s.a)(a,[{key:"toggleMenu",value:function(){var e=this.state.menuActive;console.log("State was: "+e),this.setState({menuActive:!e}),console.log("State changed to: "+this.state.menuActive)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.HashRouter,{basename:"/"},l.a.createElement("div",{id:"top"}),l.a.createElement("div",{id:"nav-top"},l.a.createElement(d.Link,{to:"/"},l.a.createElement("div",{id:"logo"},l.a.createElement(D.a,{icon:"globe-americas",className:"icon"}),"Where's Shell")),l.a.createElement("div",{className:"menu"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(d.NavLink,{to:"/",exact:!0,activeClassName:"nav-active"},"Home")),l.a.createElement("li",null,l.a.createElement(d.NavLink,{to:"/trips",activeClassName:"nav-active"},"Trips")),l.a.createElement("li",null,l.a.createElement(d.NavLink,{to:"/countries",activeClassName:"nav-active"},"Countries")),l.a.createElement("li",null,l.a.createElement(d.NavLink,{to:"/map",activeClassName:"nav-active"},"Map")))),l.a.createElement("div",{className:"hamburger ".concat(this.state.menuActive?"open":null),onClick:this.toggleMenu},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null))),l.a.createElement("div",{className:"collapsible-menu ".concat(this.state.menuActive?"collapsible-menu-active":null)},l.a.createElement("ul",null,l.a.createElement(d.NavLink,{to:"/",exact:!0,activeClassName:"nav-active-collapsible",onClick:this.toggleMenu},l.a.createElement("li",null,"Home")),l.a.createElement(d.NavLink,{to:"/trips",activeClassName:"nav-active-collapsible",onClick:this.toggleMenu},l.a.createElement("li",null,"Trips")),l.a.createElement(d.NavLink,{to:"/countries",activeClassName:"nav-active-collapsible",onClick:this.toggleMenu},l.a.createElement("li",null,"Countries")),l.a.createElement(d.NavLink,{to:"/map",activeClassName:"nav-active-collapsible",onClick:this.toggleMenu},l.a.createElement("li",null,"Map")))),l.a.createElement("div",{className:"container-main"},l.a.createElement(v.g,null,l.a.createElement(v.d,{path:"/",exact:!0,component:p}),l.a.createElement(v.d,{path:"/trips/",exact:!0,component:y}),l.a.createElement(v.d,{path:"/trips/:id",component:M}),l.a.createElement(v.d,{path:"/countries/",exact:!0,component:E}),l.a.createElement(v.d,{path:"/countries/:id",component:F}),l.a.createElement(v.d,{path:"/map",component:I})))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t){}},[[106,1,2]]]);
//# sourceMappingURL=main.650e96db.chunk.js.map